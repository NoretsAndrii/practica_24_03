{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/foto.js"],"sourcesContent":["export function fetchData(query) {\n  const searchParams = new URLSearchParams({\n    client_id: 'xankM5JcWjNdU3aQm9SCaf_qfZApy4ZcN2-HgCA1cGs',\n    query: query,\n    orientation: 'portrait',\n    per_page: 20,\n  });\n  return fetch(`https://api.unsplash.com/search/photos/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('error');\n      }\n      return response.json();\n    })\n    .then(data => {\n      console.log(data);\n      return data;\n    })\n    .catch(error => console.log('error'));\n}\n","import { fetchData } from './api';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallary = document.querySelector('.gallary');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  gallary.innerHTML = '';\n  const search = form.elements.searchQuery.value.trim();\n  fetchData(search).then(data => {\n    if (data.results.length === 0)\n      return iziToast.error({\n        message: 'За вашим запитом нічого не знайдено',\n        title: 'Error',\n        position: 'topRight',\n      });\n    renderMarkup(data.results);\n  });\n  form.reset();\n}\n\nfunction renderMarkup(arr) {\n  const markup = arr\n    .map(\n      elem => `<li>\n    <img src=\"${elem.urls.small}\" alt=\"${elem.description}\">\n</li>`\n    )\n    .join('');\n  gallary.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["fetchData","query","searchParams","response","data","error","form","gallary","handleSubmit","event","search","iziToast","renderMarkup","arr","markup","elem"],"mappings":"svBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAe,IAAI,gBAAgB,CACvC,UAAW,8CACX,MAAOD,EACP,YAAa,WACb,SAAU,EACd,CAAG,EACD,OAAO,MAAM,2CAA2CC,CAAY,EAAE,EACnE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,OAAO,EAEzB,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACJ,QAAQ,IAAIA,CAAI,EACTA,EACR,EACA,MAAMC,GAAS,QAAQ,IAAI,OAAO,CAAC,CACxC,CCdA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GACpB,MAAMG,EAASJ,EAAK,SAAS,YAAY,MAAM,OAC/CN,EAAUU,CAAM,EAAE,KAAKN,GAAQ,CAC7B,GAAIA,EAAK,QAAQ,SAAW,EAC1B,OAAOO,EAAS,MAAM,CACpB,QAAS,sCACT,MAAO,QACP,SAAU,UAClB,CAAO,EACHC,EAAaR,EAAK,OAAO,CAC7B,CAAG,EACDE,EAAK,MAAK,CACZ,CAEA,SAASM,EAAaC,EAAK,CACzB,MAAMC,EAASD,EACZ,IACCE,GAAQ;AAAA,gBACEA,EAAK,KAAK,KAAK,UAAUA,EAAK,WAAW;AAAA,MAEpD,EACA,KAAK,EAAE,EACVR,EAAQ,mBAAmB,YAAaO,CAAM,CAChD"}